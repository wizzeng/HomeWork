<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<!--    <script src="js/feather.min.js"></script>-->
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
<div class="container">
    <div class="weather-side">
        <div class="weather-gradient"></div>
        <div class="date-container">
            <h2 class="date-dayName">Tuesday</h2>
            <span class="date-day">15 Jan 2019</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-map-pin location-icon">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
            </svg>
            <span class="location">Paris, FR</span>
        </div>
        <div class="weather-container">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-sun weather-icon">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <h1 class="weather-temp">29℃</h1>
            <h3 class="weather-desc">Sunny</h3>
        </div>
    </div>
    <div class="info-side">
        <div class="today-info-container">
            <div class="today-info">
                <div class="precipitation">
                    <span class="title">PRECIPITATION</span>
                    <span class="value">0 mm</span>
                    <div class="clear"></div>
                </div>
                <div class="humidity">
                    <span class="title">HUMIDITY</span>
                    <span class="value">34 %</span>
                    <div class="clear"></div>
                </div>
                <div class="wind">
                    <span class="title">WIND</span>
                    <span class="value">0 km/h</span>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <div class="week-container">
            <ul class="week-list">
                <li class="active">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-sun day-icon">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <span class="day-name">Tue</span>
<!--                    <span class="day-temp">29%</span>-->
                    <span class="day-temp tempMin">21℃</span>
                    <span class="day-temp tempMax">22℃</span>
                </li>
                <li>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-cloud day-icon">
                        <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
                    </svg>
                    <span class="day-name">Wed</span>
<!--                    <span class="day-temp">21℃</span>-->
                    <span class="day-temp tempMin">21℃</span>
                    <span class="day-temp tempMax">22℃</span>
                </li>
                <li>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-cloud-snow day-icon">
                        <path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path>
                        <line x1="8" y1="16" x2="8.01" y2="16"></line>
                        <line x1="8" y1="20" x2="8.01" y2="20"></line>
                        <line x1="12" y1="18" x2="12.01" y2="18"></line>
                        <line x1="12" y1="22" x2="12.01" y2="22"></line>
                        <line x1="16" y1="16" x2="16.01" y2="16"></line>
                        <line x1="16" y1="20" x2="16.01" y2="20"></line>
                    </svg>
                    <span class="day-name">Thu</span>
<!--                    <span class="day-temp">08°C</span>-->
                    <span class="day-temp tempMin">21℃</span>
                    <span class="day-temp tempMax">22℃</span>
                </li>
                <li>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-cloud-rain day-icon">
                        <line x1="16" y1="13" x2="16" y2="21"></line>
                        <line x1="8" y1="13" x2="8" y2="21"></line>
                        <line x1="12" y1="15" x2="12" y2="23"></line>
                        <path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>
                    </svg>
                    <span class="day-name">Thu</span>
                    <span class="day-temp tempMin">21℃</span>
                    <span class="day-temp tempMax">22℃</span>
                </li>
            </ul>
        </div>
        <div class="location-container">
            <button class="location-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-map-pin">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                </svg>
                <span>BeiJing</span>
            </button>
            <button class="location-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-map-pin">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                </svg>
                <span>ShangHai</span>
            </button>
            <br>
            <button class="location-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-map-pin">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                </svg>
                <span>ShenZhen</span>
            </button>
            <button class="location-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-map-pin">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                </svg>
                <span>GuangZhou</span>
            </button>
        </div>
    </div>
</div>
</body>

<script>
    (function () {
        fetch('https://devapi.qweather.com/v7/weather/now?location=101010100&key=d5ac0a6c09744938a42280a05a2f2858&lang=en')
            .then(function (response) {
                return response.json();
            })
            .then(function (myJson) {
                console.log(myJson);
                let updateTime = new Date(myJson.updateTime);
                console.log(updateTime);
                let obsDate = updateTime.getDate();
                let obsYear = updateTime.getFullYear();
                let obsTem = myJson.now.temp;
                let obsHumidity = myJson.now.humidity;
                let obsWind = myJson.now.windSpeed;
                let obsPrecip = myJson.now.precip;

                let todayName = document.getElementsByClassName('date-dayName')[0];
                let location = document.getElementsByClassName('location')[0];
                let todayTemp = document.getElementsByClassName('weather-temp')[0];
                let todayWeather = document.getElementsByClassName('weather-desc')[0];
                let todayDate = document.getElementsByClassName('date-day')[0];
                let values = document.getElementsByClassName('value');
                let dayNames = document.getElementsByClassName('day-name');
                let dayTemps = document.getElementsByClassName('day-temp');

                function showTodayInfo() {
                    todayName.innerHTML = getWeekDay(updateTime);
                    location.innerHTML = 'BeiJing';
                    todayTemp.innerHTML = obsTem + '℃';
                    todayWeather.innerHTML = myJson.now.text;
                    todayDate.innerHTML = obsDate + ' ' + getMonth(updateTime) + ' ' + obsYear;
                    // for (let i = 0, l = titles.length; i < l; i++) {
                    //     titles[i].innerHTML = i;
                    // }
                    values[0].innerHTML = obsPrecip + ' mm';
                    values[1].innerHTML = obsHumidity + ' %';
                    values[2].innerHTML = obsWind + ' km/h';

                    // function nextDay() {
                    //     updateTime.setDate(updateTime.getDate() + 1);
                    // }

                }

                showTodayInfo();

                function showInfo() {
                    console.log(myJson.updateTime);
                    // console.log(updateTime);
                    console.log('Weather: ' + myJson.now.text);
                    console.log('day: ' + getWeekDay(updateTime));
                    console.log('Month: ' + getMonth(updateTime));
                    console.log('Date: ' + obsDate);
                    console.log('Year: ' + obsYear);
                    console.log('Temperature: ' + obsTem + ' ℃');
                    console.log('Precipitation: ' + obsPrecip + ' mm');
                    console.log('Humidity: ' + obsHumidity + ' %');
                    console.log('Wind: ' + obsWind + ' km/h');
                }

                showInfo();


            });

        fetch('https://devapi.qweather.com/v7/weather/3d?location=101010100&key=d5ac0a6c09744938a42280a05a2f2858&lang=en')
            .then(function (response) {
                return response.json();
            })
            .then(function (weather3d) {
                console.log(weather3d);
                // let afterDate0 = weather3d.daily[0].fxDate;
                // let tempMin0 = weather3d.daily[0].tempMin;
                // let updateTime0 = new Date(afterDate0);
                // console.log(updateTime0);
                // let afterDate1 = weather3d.daily[1].fxDate;
                // let tempMin1 = weather3d.daily[1].tempMin;
                // let updateTime1 = new Date(afterDate1);
                // console.log(updateTime1);
                // let afterDate2 = weather3d.daily[2].fxDate;
                // let tempMin2 = weather3d.daily[2].tempMin;
                // let updateTime2 = new Date(afterDate2);
                // console.log(updateTime2);

                let dayNames = document.getElementsByClassName('day-name');
                let dayTempMins = document.getElementsByClassName('tempMin');
                let dayTempMaxs = document.getElementsByClassName('tempMax');

                function showAfterInfo() {
                    let nowDate = weather3d.daily[0].fxDate;
                    let afterDate = [];
                    let tempMin = [];
                    let tempMax = [];
                    let updateTime = ['','','',new Date(nowDate)];
                    for (let i = 0; i < 3; i++) {
                        afterDate[i] = weather3d.daily[i].fxDate;
                        tempMin[i] = weather3d.daily[i].tempMin;
                        tempMax[i] = weather3d.daily[i].tempMax;
                        updateTime[i] = new Date(afterDate[i]);
                        dayNames[i].innerHTML = getWeekDay(updateTime[i]).slice(0, 3);
                        dayTempMins[i].innerHTML = tempMin[i] +'℃';
                        dayTempMaxs[i].innerHTML = tempMax[i] +'℃';
                    }
                    updateTime[3].setDate(updateTime[0].getDate() + 3);
                    dayNames[3].innerHTML = getWeekDay(updateTime[3]).slice(0, 3);
                    dayTempMins[3].innerHTML = tempMin[2] +'℃';
                    dayTempMaxs[3].innerHTML = tempMax[2] +'℃';
                    // dayNames[0].innerHTML = getWeekDay(updateTime0).slice(0, 3);
                    // dayTemps[0].innerHTML = tempMin0 +'℃';
                    // dayNames[1].innerHTML = getWeekDay(updateTime0).slice(0, 3);
                    // dayTemps[1].innerHTML = tempMin1 +'℃';
                    // dayNames[2].innerHTML = getWeekDay(updateTime0).slice(0, 3);
                    // dayTemps[2].innerHTML = tempMin2 +'℃';
                }

                showAfterInfo();
            });

        function getWeekDay(date) {
            let days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            return days[date.getDay()];
        }

        function getMonth(date) {
            let Month = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];
            return Month[date.getMonth()];
        }
    })();


</script>
</html>